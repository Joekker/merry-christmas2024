{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls\";\nimport { CSS3DRenderer, CSS3DObject } from \"three/examples/jsm/renderers/CSS3DRenderer\";\nexport default {\n  data() {\n    return {\n      camera: null,\n      scene: null,\n      renderer: null,\n      controls: null,\n      objects: [],\n      targets: [],\n      table: []\n    };\n  },\n  mounted() {\n    this.generatePictures();\n    this.init();\n    this.animate();\n    window.addEventListener(\"resize\", this.onWindowResize);\n  },\n  methods: {\n    generatePictures() {\n      const picArr = [];\n      for (let i = 0; i < 199; i++) {\n        let yu = i % 16 || 16;\n        picArr.push({\n          url: `img/${yu}.jpeg`\n        });\n      }\n      for (let i = 0; i < picArr.length; i++) {\n        this.table.push({\n          ...picArr[i],\n          p_x: i % 20 + 1,\n          p_y: Math.floor(i / 20) + 1\n        });\n      }\n    },\n    init() {\n      // 初始化相机\n      this.camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 10000);\n      this.camera.position.z = 3000;\n\n      // 初始化场景\n      this.scene = new THREE.Scene();\n\n      // 创建图片对象\n      this.table.forEach(item => {\n        const dom = document.createElement(\"div\");\n        dom.className = \"element\";\n        const img = document.createElement(\"img\");\n        img.src = item.url;\n        dom.appendChild(img);\n        const object = new CSS3DObject(dom);\n        object.position.x = Math.random() * 4000 - 2000;\n        object.position.y = Math.random() * 4000 - 2000;\n        object.position.z = Math.random() * 4000 - 2000;\n        this.scene.add(object);\n        this.objects.push(object);\n      });\n\n      // 设置球形目标\n      const vector = new THREE.Vector3();\n      const spherical = new THREE.Spherical();\n      this.objects.forEach((_, i) => {\n        const phi = Math.acos(-1 + 2 * i / this.objects.length);\n        const theta = Math.sqrt(this.objects.length * Math.PI) * phi;\n        const object = new THREE.Object3D();\n        spherical.set(800, phi, theta);\n        object.position.setFromSpherical(spherical);\n        vector.copy(object.position).multiplyScalar(2);\n        object.lookAt(vector);\n        this.targets.push(object);\n      });\n\n      // 初始化渲染器\n      this.renderer = new CSS3DRenderer();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.renderer.domElement.style.position = \"absolute\";\n      document.getElementById(\"container\").appendChild(this.renderer.domElement);\n\n      // 初始化控制器\n      this.controls = new TrackballControls(this.camera, this.renderer.domElement);\n      this.controls.rotateSpeed = 0.5;\n      this.controls.minDistance = 500;\n      this.controls.maxDistance = 6000;\n      this.controls.addEventListener(\"change\", this.render);\n\n      // 开始变换\n      this.transform();\n    },\n    transform() {\n      const duration = 2000;\n      TWEEN.removeAll();\n      this.objects.forEach((object, i) => {\n        const target = this.targets[i];\n        new TWEEN.Tween(object.position).to({\n          x: target.position.x,\n          y: target.position.y,\n          z: target.position.z\n        }, Math.random() * duration + duration).easing(TWEEN.Easing.Exponential.InOut).start();\n        new TWEEN.Tween(object.rotation).to({\n          x: target.rotation.x,\n          y: target.rotation.y,\n          z: target.rotation.z\n        }, Math.random() * duration + duration).easing(TWEEN.Easing.Exponential.InOut).start();\n      });\n      new TWEEN.Tween(this).to({}, duration * 2).onUpdate(this.render).start();\n    },\n    onWindowResize() {\n      this.camera.aspect = window.innerWidth / window.innerHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.render();\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      TWEEN.update();\n      this.controls.update();\n      this.scene.rotation.y += 0.001;\n      this.render();\n    },\n    render() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onWindowResize);\n  }\n};","map":{"version":3,"names":["THREE","TWEEN","TrackballControls","CSS3DRenderer","CSS3DObject","data","camera","scene","renderer","controls","objects","targets","table","mounted","generatePictures","init","animate","window","addEventListener","onWindowResize","methods","picArr","i","yu","push","url","length","p_x","p_y","Math","floor","PerspectiveCamera","innerWidth","innerHeight","position","z","Scene","forEach","item","dom","document","createElement","className","img","src","appendChild","object","x","random","y","add","vector","Vector3","spherical","Spherical","_","phi","acos","theta","sqrt","PI","Object3D","set","setFromSpherical","copy","multiplyScalar","lookAt","setSize","domElement","style","getElementById","rotateSpeed","minDistance","maxDistance","render","transform","duration","removeAll","target","Tween","to","easing","Easing","Exponential","InOut","start","rotation","onUpdate","aspect","updateProjectionMatrix","requestAnimationFrame","update","beforeDestroy","removeEventListener"],"sources":["src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"container\"></div>\n    <audio autoplay loop controls id=\"music\" ref=\"music\">\n      <source src=\"img/875007460.mp3\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls\";\nimport { CSS3DRenderer, CSS3DObject } from \"three/examples/jsm/renderers/CSS3DRenderer\";\n\nexport default {\n  data() {\n    return {\n      camera: null,\n      scene: null,\n      renderer: null,\n      controls: null,\n      objects: [],\n      targets: [],\n      table: [],\n    };\n  },\n  mounted() {\n    this.generatePictures();\n    this.init();\n    this.animate();\n    window.addEventListener(\"resize\", this.onWindowResize);\n  },\n  methods: {\n    generatePictures() {\n      const picArr = [];\n      for (let i = 0; i < 199; i++) {\n        let yu = i % 16 || 16;\n        picArr.push({ url: `img/${yu}.jpeg` });\n      }\n\n      for (let i = 0; i < picArr.length; i++) {\n        this.table.push({\n          ...picArr[i],\n          p_x: i % 20 + 1,\n          p_y: Math.floor(i / 20) + 1,\n        });\n      }\n    },\n    init() {\n      // 初始化相机\n      this.camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 10000);\n      this.camera.position.z = 3000;\n\n      // 初始化场景\n      this.scene = new THREE.Scene();\n\n      // 创建图片对象\n      this.table.forEach((item) => {\n        const dom = document.createElement(\"div\");\n        dom.className = \"element\";\n        const img = document.createElement(\"img\");\n        img.src = item.url;\n        dom.appendChild(img);\n\n        const object = new CSS3DObject(dom);\n        object.position.x = Math.random() * 4000 - 2000;\n        object.position.y = Math.random() * 4000 - 2000;\n        object.position.z = Math.random() * 4000 - 2000;\n        this.scene.add(object);\n        this.objects.push(object);\n      });\n\n      // 设置球形目标\n      const vector = new THREE.Vector3();\n      const spherical = new THREE.Spherical();\n      this.objects.forEach((_, i) => {\n        const phi = Math.acos(-1 + (2 * i) / this.objects.length);\n        const theta = Math.sqrt(this.objects.length * Math.PI) * phi;\n\n        const object = new THREE.Object3D();\n        spherical.set(800, phi, theta);\n        object.position.setFromSpherical(spherical);\n        vector.copy(object.position).multiplyScalar(2);\n        object.lookAt(vector);\n        this.targets.push(object);\n      });\n\n      // 初始化渲染器\n      this.renderer = new CSS3DRenderer();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.renderer.domElement.style.position = \"absolute\";\n      document.getElementById(\"container\").appendChild(this.renderer.domElement);\n\n      // 初始化控制器\n      this.controls = new TrackballControls(this.camera, this.renderer.domElement);\n      this.controls.rotateSpeed = 0.5;\n      this.controls.minDistance = 500;\n      this.controls.maxDistance = 6000;\n      this.controls.addEventListener(\"change\", this.render);\n\n      // 开始变换\n      this.transform();\n    },\n    transform() {\n      const duration = 2000;\n      TWEEN.removeAll();\n      this.objects.forEach((object, i) => {\n        const target = this.targets[i];\n\n        new TWEEN.Tween(object.position)\n          .to(\n            { x: target.position.x, y: target.position.y, z: target.position.z },\n            Math.random() * duration + duration\n          )\n          .easing(TWEEN.Easing.Exponential.InOut)\n          .start();\n\n        new TWEEN.Tween(object.rotation)\n          .to(\n            { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z },\n            Math.random() * duration + duration\n          )\n          .easing(TWEEN.Easing.Exponential.InOut)\n          .start();\n      });\n\n      new TWEEN.Tween(this)\n        .to({}, duration * 2)\n        .onUpdate(this.render)\n        .start();\n    },\n    onWindowResize() {\n      this.camera.aspect = window.innerWidth / window.innerHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.render();\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      TWEEN.update();\n      this.controls.update();\n      this.scene.rotation.y += 0.001;\n      this.render();\n    },\n    render() {\n      this.renderer.render(this.scene, this.camera);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onWindowResize);\n  },\n};\n</script>\n\n<style scoped>\nhtml,\nbody {\n  height: 100%;\n}\n\nbody {\n  background-color: #000000;\n  margin: 0;\n  overflow: hidden;\n}\n\n.element {\n  width: 140px;\n  height: 140px;\n  cursor: pointer;\n  box-shadow: 0px 0px 12px rgba(238, 196, 11, 0.5);\n  border: 2px solid #fff;\n  text-align: center;\n}\n\n.element:hover {\n  box-shadow: 0px 0px 12px rgba(11, 250, 250, 0.85);\n  border: 2px solid rgba(127, 255, 255, 0.85);\n}\n\n.element img {\n  width: 140px;\n  height: 140px;\n  cursor: pointer;\n}\n\n#music {\n  display: none;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}